@using Microsoft.AspNetCore.Mvc.Localization

@inject IViewLocalizer localizer

<label><i class="fa fa-check-square"></i>
@localizer["StepsOfTask"]    
</label>
<button type="button" class="btn btn-primary btn-sm" onclick="handleClickAddStep()" title=" @localizer["AddNewStep"]">
    <i class="fa fa-plus"></i>
</button>
  <div id="sortableSteps" data-bind="foreach: steps">
      <div class="mt-2">
          <div class="row">
              <div class="col-1">
                <input type="checkbox" class="form-check-input" name="chbStep" 
                       data-bind="checked: isCompleted,
                                  click: handleClickCheckboxStep,
                                  attr: { 'data-id': id }" />
              </div>
              <div class="col-11">
                <span id="stepDescription"                 
                    data-bind="text: description, 
                               hidden: editMode,
                               click: handleClickStepDescription,
                               css: { 'text-decoration-line-through': isCompleted }">
                </span>
                <textarea class="form-control" name="txtStepDescription" placeholder="@localizer["AddDescription"]"
                    data-bind="{ value: description, visible: editMode }">
                </textarea>
                <div class="mt-2" data-bind="{ value: description, visible: editMode }">
                    <button type="button" class="btn btn-primary btn-sm" data-bind="{ click: handleClickSaveStep }" title="@localizer["Save"]">
                        <i class="fa fa-save"></i>
                        @localizer["Save"]
                    </button>
                    <button type="button" class="btn btn-secondary btn-sm" data-bind="{ click: handleClickCancelStep }" title="@localizer["Cancel"]">
                        <i class="fa fa-window-close"></i>
                        @localizer["Cancel"]
                    </button>
                    <button type="button" class="btn btn-danger btn-sm" data-bind="{ hidden: isNew, click: handleClickDeleteStep }" title="@localizer["Delete"]">
                        <i class="fa fa-trash"></i>
                        @localizer["Delete"]
                    </button>
                </div>
              </div>
          </div>
      </div>
  </div>
